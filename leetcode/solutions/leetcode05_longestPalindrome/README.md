# 5. 最长回文子串    medium

* 问题描述

给定一个字符串 s，找到 s 中最长的回文子串。你可以假设 s 的最大长度为 1000。

示例 1：
```
输入: "babad"
输出: "bab"
注意: "aba" 也是一个有效答案。
```
示例 2：
```
输入: "cbbd"
输出: "bb"
```

* 思路

思路一：动态规划

如果一个字符串```s[i:j]```是回文字符串，那么去掉头尾两个字符后，这个子串```s[i+1:j-1]```仍然也会是回文字符串

动态规划方程： 
```
dp[i][j] = ((s[i] == s[j]) and dp[i+1][j-1])
```

其中，注意i与j的取值范围。 要使 j - 1 > i + 1 ，则 j - i > 2 。

也即，当 j - i <　3的时候， 就剩下最中央的那个字符。

动态规划方程改写为：
```
dp[i][j] = ((s[i] == s[j]) and (j - i <　3 or dp[i+1][j-1]))
```

据此方程，进行画表格填表。

以 "babad" 为例子
 
因为单个字符肯定是回文的，所以对角线应填上True。

| i \ j   |  0      |  1      | 2       |  3     | 4      |
| --------| -----:  | :----:  | :----:  |:----:  |:----:  |
| 0       | True    |         |         |        |        |
| 1       |         |   True  |         |        |        |
| 2       |         |         | True    |        |        |
| 3       |         |         |         | True   |        |
| 4       |         |         |         |        |  True  |
 
 按列开始填，先填 i = 0 , j = 1
 
| i \ j   |  0      |  1      | 2       |  3     | 4      |
| --------| -----:  | :----:  | :----:  |:----:  |:----:  |
| 0       | True    |   False |         |        |        |
| 1       |         |   True  |         |        |        |
| 2       |         |         | True    |        |        |
| 3       |         |         |         | True   |        |
| 4       |         |         |         |        |  True  |
 
 再按顺序填 i = 0, j = 2 ; i = 1 , j = 2
  
| i \ j   |  0      |  1      | 2       |  3     | 4      |
| --------| -----:  | :----:  | :----:  |:----:  |:----:  |
| 0       | True    |   False |   True  |        |        |
| 1       |         |   True  |   True  |        |        |
| 2       |         |         | True    |        |        |
| 3       |         |         |         | True   |        |
| 4       |         |         |         |        |  True  |

再按顺序填写，i = 0, j = 3 ; i = 1 , j = 3; i = 2 , j = 3

| i \ j   |  0      |  1      | 2       |  3     | 4      |
| --------| -----:  | :----:  | :----:  |:----:  |:----:  |
| 0       | True    |   False |   True  |  False |        |
| 1       |         |   True  |   True  |  False |        |
| 2       |         |         | True    |  False |        |
| 3       |         |         |         | True   |        |
| 4       |         |         |         |        |  True  |

最后，

| i \ j   |  0      |  1      | 2       |  3     | 4      |
| --------| -----:  | :----:  | :----:  |:----:  |:----:  |
| 0       | True    |   False |   True  |  False |  False |
| 1       |         |   True  |   True  |  False |  False |
| 2       |         |         | True    |  False |  False |
| 3       |         |         |         | True   |  False |
| 4       |         |         |         |        |  True  |